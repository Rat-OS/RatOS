"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([["8694"],{11734:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>o,metadata:()=>i,assets:()=>l,toc:()=>c,contentTitle:()=>s});var i=JSON.parse('{"id":"configuration/beacon_contact","title":"Beacon Contact","description":"- Prerequisites","source":"@site/docs/configuration/beacon_contact.md","sourceDirName":"configuration","slug":"/configuration/beacon_contact","permalink":"/docs/configuration/beacon_contact","draft":false,"unlisted":false,"editUrl":"https://github.com/Rat-OS/RatOS/edit/v2.x/site/docs/configuration/beacon_contact.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Includes & Overrides","permalink":"/docs/configuration/includes-and-overrides"},"next":{"title":"Calibration Macros","permalink":"/docs/configuration/calibration"}}'),a=t("52676"),r=t("23663");let o={},s="Beacon Contact",l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"NEW! Bed and hotend heat soaking time",id:"new-bed-and-hotend-heat-soaking-time",level:2},{value:"Fully automated RatOS Beacon calibration",id:"fully-automated-ratos-beacon-calibration",level:2},{value:"1. Initial calibration",id:"1-initial-calibration",level:2},{value:"2. Beacon latency check",id:"2-beacon-latency-check",level:2},{value:"3. Temperature expansion calibration",id:"3-temperature-expansion-calibration",level:2},{value:"4. Final Calibration",id:"4-final-calibration",level:2},{value:"5. BETA! Automated Beacon Scan Compensation",id:"5-beta-automated-beacon-scan-compensation",level:2},{value:"How do I know if I need this?",id:"how-do-i-know-if-i-need-this",level:3},{value:"Measuring Gantry Twist",id:"measuring-gantry-twist",level:4},{value:"6. First print and fine tuning",id:"6-first-print-and-fine-tuning",level:2},{value:"7. RatOS configuration",id:"7-ratos-configuration",level:2},{value:"8. Tools",id:"8-tools",level:2},{value:"Measuring Z-Axis Backlash",id:"measuring-z-axis-backlash",level:3},{value:"9. FAQ",id:"9-faq",level:2},{value:"Q: How can I set different Z-offsets for different filaments?",id:"q-how-can-i-set-different-z-offsets-for-different-filaments",level:3}];function d(e){let n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"beacon-contact",children:"Beacon Contact"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#prerequisites",children:"Prerequisites"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#fully-automated-ratos-beacon-calibration",children:"Fully automated RatOS Beacon calibration"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#1-initial-calibration",children:"Initial calibration"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#2-beacon-latency-check",children:"Beacon latency check"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#3-temperature-expansion-calibration",children:"Temperature expansion calibration"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#4-final-calibration",children:"Final calibration"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#5-beta-automated-beacon-scan-compensation",children:"Beacon Scan Compensation"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#6-first-print-and-fine-tuning",children:"First print and fine tuning"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#7-ratos-configuration",children:"RatOS configuration"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#8-tools",children:"Beacon Tools"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#9-faq",children:"FAQ"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.p,{children:["Please read the official ",(0,a.jsx)(n.a,{href:"https://docs.beacon3d.com/contact/",children:"beacon contact documentation"}),", but do not follow any installation instructions. Beacon is already installed and configured in RatOS, you just need to connect it to your Raspberry Pi."]}),"\n",(0,a.jsx)(n.h2,{id:"new-bed-and-hotend-heat-soaking-time",children:"NEW! Bed and hotend heat soaking time"}),"\n",(0,a.jsxs)(n.p,{children:["It is recommended to use the new RatOS heat soaking variables. The Beacon calibration and the ",(0,a.jsx)(n.code,{children:"START_PRINT"})," macro are using these values."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"[gcode_macro RatOS]\nvariable_bed_heat_soak_time: 1200\nvariable_hotend_heat_soak_time: 300\nvariable_start_print_park_in: 'primeblob'\n"})}),"\n",(0,a.jsx)(n.h2,{id:"fully-automated-ratos-beacon-calibration",children:"Fully automated RatOS Beacon calibration"}),"\n",(0,a.jsx)(n.p,{children:"RatOS comes with a fully automated Beacon model and temperature offset calibration."}),"\n",(0,a.jsxs)(n.p,{children:["By default the Beacon contact feature is enabled. If you want to disable it, set ",(0,a.jsx)(n.code,{children:"variable_beacon_contact_start_print_true_zero"})," to False."]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"BEACON_RATOS_CALIBRATE BED_TEMP=85 CHAMBER_TEMP=45"}),". Use your target temperature for the ",(0,a.jsx)(n.code,{children:"BED_TEMP"})," and ",(0,a.jsx)(n.code,{children:"CHAMBER_TEMP"})," parameter. ",(0,a.jsx)(n.code,{children:"CHAMBER_TEMP"})," is optional, and can be omitted."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The automated beacon calibration will run the following calibrations and tests, which can also be used individually. Please make sure to read every section before starting the calibration."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#1-initial-calibration",children:"Initial calibration"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#2-beacon-latency-check",children:"Beacon latency check"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#3-temperature-expansion-calibration",children:"Temperature expansion calibration"})," (for non IDEX printer)"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#4-final-calibration",children:"Final calibration"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#5-beta-automated-beacon-scan-compensation",children:"Beacon scan compensation"})," ",(0,a.jsxs)(n.em,{children:["if ",(0,a.jsx)(n.a,{href:"#7-ratos-configuration",children:"beacon_scan_compensation_enable: True"})," a reference mesh will be created if needed"]})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"All calibration results will be saved automatically, and no user action is required. Klipper will restart on its own after the calibration is complete."}),"\n",(0,a.jsx)(n.h2,{id:"1-initial-calibration",children:"1. Initial calibration"}),"\n",(0,a.jsx)(n.p,{children:"We need to create an initial Beacon model to be able to home the printer."}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"BEACON_INITIAL_CALIBRATION"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"It will home your printer and run the calibration fully automated. This command can throw a tolerance error - in this case, simply repeat it until the command completes successfully."}),"\n",(0,a.jsx)(n.p,{children:"For safety and peace of mind, the LED will turn on as soon as the contact system determines it has a strong enough signal for detection. It should normally turn on up to 10mm in advance of the metal target, allowing enough time to manually e-stop the machine if necessary."}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"SAVE_CONFIG"})," to save the model to your printer.cfg file."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"2-beacon-latency-check",children:"2. Beacon latency check"}),"\n",(0,a.jsx)(n.p,{children:"This test will show you the quality of your Beacon probing."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"BEACON_POKE_TEST"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"It will home your printer and poke the bed multiple times. After the test completes, check the console output - it should look similar to this:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Overshoot: 35.625 um\nTriggered at: z=0.07369 with latency=2\nArmed at: z=4.76021\nPoke test from 5.000 to -0.300, at 3.000 mm/s\n"})}),"\n",(0,a.jsx)(n.p,{children:"Compare your latency values with the following list."}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Score"}),(0,a.jsx)(n.th,{children:"Notes"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"0-1"}),(0,a.jsx)(n.td,{children:"Extremely low noise, rarely achieved"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"2-4"}),(0,a.jsx)(n.td,{children:"Excellent performance for a typical printer"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"5-8"}),(0,a.jsx)(n.td,{children:"Acceptable performance, machine may have considerable cyclic axis noise"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"9-11"}),(0,a.jsx)(n.td,{children:"Not ideal, may want to verify proper mounting or use thinner stackups"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"12-14"}),(0,a.jsx)(n.td,{children:"Reason for concern, present setup may be risky to continue with"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"3-temperature-expansion-calibration",children:"3. Temperature expansion calibration"}),"\n",(0,a.jsx)(n.p,{children:"RatOS comes with built-in temperature expansion calibration and compensation."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Preparation"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Unload filament from the nozzle"}),"\n",(0,a.jsxs)(n.li,{children:["Make sure the nozzle is clean and that no filament is leaking out of it. Make a manual cold pull or use the RatOS ",(0,a.jsx)(n.code,{children:"COLD_PULL"})," macro"]}),"\n",(0,a.jsx)(n.li,{children:"Let the machine cool down to ambient temperature"}),"\n",(0,a.jsxs)(n.li,{children:["Do ",(0,a.jsx)(n.strong,{children:"NOT"})," perform this calibration on a smooth PEI sheet - in this case, turn the sheet around and calibrate on its bare metal surface"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Cold Pull Macro"})}),"\n",(0,a.jsxs)(n.p,{children:["The cold pull macro lets you perform an automated cold pull to clean your nozzle. Before the cold pull, 30mm of filament will be extruded at the specified ",(0,a.jsx)(n.code,{children:"EXTRUSION_TEMP"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["The default values work well for PLA cold pulls. For PETG and ABS, you should use higher temperatures like ",(0,a.jsx)(n.code,{children:"EXTRUSION_TEMP=250 COLD_PULL_TEMP=95"}),". If you hear skipping during the cold pull, slightly increase the ",(0,a.jsx)(n.code,{children:"COLD_PULL_TEMP"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"COLD_PULL EXTRUSION_TEMP=220 COLD_PULL_TEMP=80 TOOLHEAD=0\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Single toolhead printer"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"BEACON_CALIBRATE_NOZZLE_TEMP_OFFSET"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"This command will home your printer and run the calibration automatically. The process will take some time to complete."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"IDEX printer"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Start VAOC"}),"\n",(0,a.jsx)(n.li,{children:"Center both nozzles over the camera"}),"\n",(0,a.jsxs)(n.li,{children:["Click the ",(0,a.jsx)(n.code,{children:"Calibrate Thermal Expansion"})," button in VAOC"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"This will automatically calibrate both nozzles. The process will take some time to complete."}),"\n",(0,a.jsx)(n.p,{children:"It is recommended to repeat this calibration whenever you change a nozzle or before loading new filament."}),"\n",(0,a.jsx)(n.p,{children:"After the test finishes, check the console output. A typical result looks like this:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"RatOS | Beacon: T0 expansion coefficient: 0.075000\n"})}),"\n",(0,a.jsx)(n.p,{children:"This value is in millimeters and represents the thermal expansion for a temperature difference of 100\xb0C. RatOS uses this value to automatically calculate and apply the needed offset."}),"\n",(0,a.jsx)(n.p,{children:"The result is automatically saved to the configuration file - no user action is required."}),"\n",(0,a.jsx)(n.h2,{id:"4-final-calibration",children:"4. Final Calibration"}),"\n",(0,a.jsx)(n.p,{children:"For scan method Z-homing, we should create a Beacon model under real operating conditions. While optional, this step is recommended."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"BEACON_FINAL_CALIBRATION BED_TEMP=85 CHAMBER_TEMP=45"})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Use your target temperatures for the ",(0,a.jsx)(n.code,{children:"BED_TEMP"})," and ",(0,a.jsx)(n.code,{children:"CHAMBER_TEMP"})," parameters. This command will home your printer and run the calibration automatically."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"SAVE_CONFIG"})," to save the model to ",(0,a.jsx)(n.code,{children:"printer.cfg"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"5-beta-automated-beacon-scan-compensation",children:"5. BETA! Automated Beacon Scan Compensation"}),"\n",(0,a.jsx)(n.p,{children:"With RatOS, you can automatically compensate for gantry twist across the entire build plate and inaccuracies in the build sheet's material thickness that cause ripple effects on scanned bed meshes."}),"\n",(0,a.jsx)(n.h3,{id:"how-do-i-know-if-i-need-this",children:"How do I know if I need this?"}),"\n",(0,a.jsx)(n.h4,{id:"measuring-gantry-twist",children:"Measuring Gantry Twist"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"BEACON_MEASURE_GANTRY_TWIST"})," automatically measures the gantry twist at multiple locations on the bed. It will home your printer and level the bed if needed. The results will be displayed after the test has finished. The command may throw a tolerance error - in this case, simply repeat it until successful."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The result will look like the following example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Gantry twist relative to the center\n\nLow gantry twist: 50.324232\u03BCm.\nYou may experience first layer inconsistensies, consider beacon scan compensation.\n\nFront left: 2.362576\u03BCm\nFront center: 16.475233\u03BCm\nFront right: -47.959155\u03BCm\nLeft center: 24.925954\u03BCm\nRight center: -22.468182\u03BCm\nBack left: 50.324232\u03BCm\nBack center: 37.143389\u03BCm\nBack right: -4.167238\u03BCm\n"})}),"\n",(0,a.jsx)(n.p,{children:"Check your build plate:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Create a scan bed mesh and save it as ",(0,a.jsx)(n.code,{children:"Scan1"})]}),"\n",(0,a.jsx)(n.li,{children:"Rotate the build plate 90 degrees (rotate only the sheet, not the bed itself)"}),"\n",(0,a.jsxs)(n.li,{children:["Create a second scan bed mesh and save it as ",(0,a.jsx)(n.code,{children:"Scan2"})]}),"\n",(0,a.jsx)(n.li,{children:"If you observe that the mesh pattern follows the build plate when rotated, you need this compensation"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Scan 1"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Scan 1: 0 degrees rotation",src:t(76908).Z+"",width:"982",height:"766"})}),"\n",(0,a.jsx)(n.p,{children:"Scan 2 with the build plate rotated by 90\xb0"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Scan 2: 90 degrees rotation",src:t(13345).Z+"",width:"978",height:"765"})}),"\n",(0,a.jsxs)(n.p,{children:["Since this feature is still in beta, you need to activate it manually by copying the following configuration to ",(0,a.jsx)(n.code,{children:"printer.cfg"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"[gcode_macro RatOS]\nvariable_beacon_scan_compensation_enable: True          # Enables the beacon scan compensation\n"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"BEACON_CREATE_SCAN_COMPENSATION_MESH BED_TEMP=85 CHAMBER_TEMP=45 PROFILE=Contact"})," to create a contact reference bed mesh."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Use your target temperatures for the ",(0,a.jsx)(n.code,{children:"BED_TEMP"})," and ",(0,a.jsx)(n.code,{children:"CHAMBER_TEMP"})," parameters. The command will home your printer, heat it to the target temperatures, wait for heat soaking, and run the calibration automatically."]}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:"You'll need a reference contact mesh for each build plate and each time your target bed temperature changes more than 10 or 20 degrees (TBD)."}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["For example, if I primarily print ABS at 110\xb0C and PETG at 80\xb0C both on the same powder-coated sheet, I would need two contact meshes - one for 80\xb0C and one for 110\xb0C. If I print at 90\xb0C and 110\xb0C, I might be able to use a single contact mesh at 100\xb0C. You can create separate compensation meshes by running the ",(0,a.jsx)(n.code,{children:"BEACON_CREATE_SCAN_COMPENSATION_MESH"})," command with the ",(0,a.jsx)(n.code,{children:"PROFILE"})," parameter. For example: ",(0,a.jsx)(n.code,{children:'BEACON_CREATE_SCAN_COMPENSATION_MESH PROFILE="PEI_PC_90"'})]}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsxs)(n.li,{children:["Set the profile name for the desired reference mesh profile in the gcode variable ",(0,a.jsx)(n.code,{children:"beacon_scan_compensation_profile"}),". The default profile name is ",(0,a.jsx)(n.code,{children:"Contact"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["If ",(0,a.jsx)(n.code,{children:"BEACON_CREATE_SCAN_COMPENSATION_MESH"})," throws an error while meshing, you can simply run ",(0,a.jsx)(n.code,{children:"BED_MESH_CALIBRATE PROBE_METHOD=contact USE_CONTACT_AREA=1 SAMPLES=2 SAMPLES_DROP=1 SAMPLES_TOLERANCE_RETRIES=10 PROFILE=Contact"}),". This will skip the heat soaking part which is no longer needed in this case."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["If the feature is enabled, it will automatically compensate while printing - no additional user action is required. If you want to see the compensation for a manually created mesh, open the mesh in Mainsail and run ",(0,a.jsx)(n.code,{children:"BEACON_APPLY_SCAN_COMPENSATION PROFILE=Contact"})," in the console. This will update the mesh visualization in Mainsail."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Click the image to open the video and see the results in action"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://youtu.be/qjRhAHsX0Hc",children:(0,a.jsx)("img",{src:"https://img.youtube.com/vi/qjRhAHsX0Hc/maxresdefault.jpg",width:"50%"})})}),"\n",(0,a.jsx)(n.h2,{id:"6-first-print-and-fine-tuning",children:"6. First print and fine tuning"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Print a 150x30mm single layer rectangle in the middle of the build plate."}),"\n",(0,a.jsx)(n.li,{children:"While printing, fine-tune using baby stepping."}),"\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"SAVE_Z_OFFSET"})," to save the changes. Don't click the button - type ",(0,a.jsx)(n.code,{children:"SAVE_Z_OFFSET"})," into the console."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"7-ratos-configuration",children:"7. RatOS configuration"}),"\n",(0,a.jsx)(n.p,{children:"The Beacon contact feature is activated by default, so no configuration is required. However, you can override the settings to enable additional Beacon contact features if desired. Simply copy and paste the complete configuration block below into your printer.cfg file and modify the settings as needed."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'#####\n# Beacon probe configuration\n#####\n[gcode_macro RatOS]\nvariable_beacon_bed_mesh_scv: 25                        # Square corner velocity for bed meshing with proximity method\nvariable_beacon_contact_z_homing: False                 # Makes all G28 calls use contact instead of proximity scan\nvariable_beacon_contact_start_print_true_zero: True     # Uses contact to determine true Z=0 for the last homing move during START_PRINT\nvariable_beacon_contact_wipe_before_true_zero: True     # Enables a nozzle wipe at Y10 before true zeroing\nvariable_beacon_contact_true_zero_temp: 150             # Nozzle temperature for true zeroing\n                                                        # WARNING: If you\'re using a smooth PEI sheet, be careful with the temperature\n\nvariable_beacon_contact_prime_probing: True             # Probes for priming with contact method\nvariable_beacon_contact_expansion_compensation: True    # Enables the nozzle thermal expansion compensation\n\nvariable_beacon_contact_bed_mesh: False                 # Performs bed mesh with contact method\nvariable_beacon_contact_bed_mesh_samples: 2             # Number of probe samples for contact bed mesh\n\nvariable_beacon_contact_z_tilt_adjust: False            # Performs z-tilt adjust with contact method\nvariable_beacon_contact_z_tilt_adjust_samples: 2        # Number of probe samples for contact z-tilt adjust\n\nvariable_beacon_scan_compensation_enable: False         # Enables the Beacon scan compensation\nvariable_beacon_scan_compensation_profile: "Contact"    # The contact profile name for scan compensation\nvariable_beacon_scan_compensation_probe_count: 15,15    # The contact probe count for scan compensation\n\nvariable_beacon_contact_poke_bottom_limit: -1           # The bottom limit for the contact poke test\n'})}),"\n",(0,a.jsx)(n.h2,{id:"8-tools",children:"8. Tools"}),"\n",(0,a.jsx)(n.h3,{id:"measuring-z-axis-backlash",children:"Measuring Z-Axis Backlash"}),"\n",(0,a.jsxs)(n.p,{children:["The Beacon macro ",(0,a.jsx)(n.code,{children:"BEACON_ESTIMATE_BACKLASH"})," allows you to measure the backlash in your printer's setup. Before using this macro, ensure your printer is homed and the bed is properly leveled."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Median distance moving up 1.99990, down 2.00286, delta 0.00296 over 20 samples\n"})}),"\n",(0,a.jsx)(n.p,{children:"The delta value represents your backlash in millimeters."}),"\n",(0,a.jsx)(n.h2,{id:"9-faq",children:"9. FAQ"}),"\n",(0,a.jsx)(n.h3,{id:"q-how-can-i-set-different-z-offsets-for-different-filaments",children:"Q: How can I set different Z-offsets for different filaments?"}),"\n",(0,a.jsxs)(n.p,{children:["A: If you want to have different Z-offsets for different filament profiles, you can use ",(0,a.jsx)(n.code,{children:"SET_GCODE_OFFSET Z_ADJUST=+0.01"})," for positive adjustments or ",(0,a.jsx)(n.code,{children:"SET_GCODE_OFFSET Z_ADJUST=-0.01"})," for negative adjustments in your filament profile's custom G-code section. Note: Using ",(0,a.jsx)(n.code,{children:"Z"})," instead of ",(0,a.jsx)(n.code,{children:"Z_ADJUST"})," will cause Klipper to replace all previously set Z-offset adjustments, including hotend expansion compensation, with your provided value (which is not recommended)."]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},76908:function(e,n,t){t.d(n,{Z:function(){return i}});let i=t.p+"assets/images/0degree-8eeeed20845908b3066c817ceed1a786.png"},13345:function(e,n,t){t.d(n,{Z:function(){return i}});let i=t.p+"assets/images/90degree-aeb1f1479b9ef58420a70e9f1fcfc01a.png"},23663:function(e,n,t){t.d(n,{Z:function(){return s},a:function(){return o}});var i=t(75271);let a={},r=i.createContext(a);function o(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);