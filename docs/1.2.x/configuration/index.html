<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-1.2.x docs-doc-page docs-doc-id-configuration" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Configuring RatOS | RatOS</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-rh=true name=twitter:image content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-rh=true property=og:url content=https://os.ratrig.com/docs/1.2.x/configuration><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=1.2.x><meta data-rh=true name=docusaurus_tag content=docs-default-1.2.x><meta data-rh=true name=docsearch:version content=1.2.x><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-1.2.x><meta data-rh=true property=og:title content="Configuring RatOS | RatOS"><meta data-rh=true name=description content="RatOS only needs minimal configuration to work, but comes with a lot of optional functionality that you can enable manually."><meta data-rh=true property=og:description content="RatOS only needs minimal configuration to work, but comes with a lot of optional functionality that you can enable manually."><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://os.ratrig.com/docs/1.2.x/configuration><link data-rh=true rel=alternate href=https://os.ratrig.com/docs/1.2.x/configuration hreflang=en><link data-rh=true rel=alternate href=https://os.ratrig.com/docs/1.2.x/configuration hreflang=x-default><link data-rh=true rel=preconnect href=https://BH4D9OD16A-dsn.algolia.net crossorigin><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="RatOS RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="RatOS Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-NQB0MHKGLP"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NQB0MHKGLP",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title=RatOS href=/opensearch.xml><link rel=stylesheet href=/assets/css/styles.bbd8df4b.css><script src=/assets/js/runtime~main.96635bb7.js defer></script><script src=/assets/js/main.851cfeae.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"dark",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent__V8X href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logos/Logo-white.svg alt=RatOS class="themedComponent_umBK themedComponent--light_tDpr"><img src=/img/logos/Logo-white.svg alt=RatOS class="themedComponent_umBK themedComponent--dark_RB4_"></div><b class="navbar__title text--truncate"></b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/1.2.x/introduction>Documentation</a><a class="navbar__item navbar__link" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/changelog>Changelog</a><a href=https://github.com/sponsors/miklschmidt target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Donate/Sponsor<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://discord.gg/ratrig target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://github.com/Rat-OS/RatOS target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/docs/1.2.x/configuration>1.2.x</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/configuration>2.1.x</a><li><a class=dropdown__link href=/docs/2.0.x/configuration>2.0.x</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/1.2.x/configuration>1.2.x</a><li><a class=dropdown__link href=/changelog>Changelog</a></ul></div><div class=navbarSearchContainer_ZGM0><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_ebYn"><div class=docsWrapper_WN4a><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_U9FN" type=button></button><div class=docRoot_xhYm><aside class="theme-doc-sidebar-container docSidebarContainer_fg0s"><div class=sidebarViewport_tHZA><div class=sidebar_ICAc><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_hjoG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/1.2.x/introduction>Getting Started</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.2.x/introduction>Introduction</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.2.x/installation>Installation</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/1.2.x/configuration>Initial Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.2.x/slicers>Slicer Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.2.x/troubleshooting>Troubleshooting</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.2.x/manual-firmware-compilation>Manual Firmware Compilation</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/changelog#updating-from-v-coreos-rc2>Updating from V-CoreOS RC2</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/1.2.x/boards/btt/octopus-11-407>Supported Boards</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/1.2.x/printers/v-core-3>Supported Printers</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/1.2.x/configuration/advanced-stepper-configuration>Configuration</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.2.x/configuration/advanced-stepper-configuration>Advanced Stepper Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.2.x/configuration/includes-and-overrides>Includes & Overrides</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.2.x/configuration/macros>Configuring RatOS Macros</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/1.2.x/guides/4028>Guides</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.2.x/guides/4028>Connecting a 4028 fan</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a href=https://www.klipper3d.org/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true>Other Documentation</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://www.klipper3d.org/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_GRez" tabindex=0>Klipper<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://docs.mainsail.xyz/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_GRez" tabindex=0>Mainsail<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://moonraker.readthedocs.io/en/latest/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_GRez" tabindex=0>Moonraker<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://klipperscreen.readthedocs.io/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_GRez" tabindex=0>KlipperScreen<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></ul></nav></div></div></aside><main class=docMainContainer_UI_Y><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_CeS1"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>This is documentation for <!-- -->RatOS<!-- --> <b>1.2.x</b>, which is no longer actively maintained.</div><div class=margin-top--md>For up-to-date documentation, see the <b><a href=/docs/configuration>latest version</a></b> (<!-- -->2.1.x<!-- -->).</div></div><div class=docItemContainer_Zjux><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_r5Rz" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_JWO4><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Getting Started</span><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Initial Configuration</span><meta itemprop=position content=2></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.2.x</span><div class="tocCollapsible_ih3I theme-doc-toc-mobile tocMobile__geE"><button type=button class="clean-btn tocCollapsibleButton_NB0r">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring RatOS</h1></header>
<p>RatOS only needs minimal configuration to work, but comes with a lot of optional functionality that you can enable manually.</p>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=introduction>Introduction<a href=#introduction class=hash-link aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>Once you have completed the initial <a href=/docs/1.2.x/installation>setup</a> and opened <a href=http://RatOS.local/ target=_blank rel="noopener noreferrer">http://RatOS.local/</a> in your browser, you are almost ready to print. There's a just a few things to go over to make sure the configuration matches your particular setup.</p>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=mainsail>Mainsail<a href=#mainsail class=hash-link aria-label="Direct link to Mainsail" title="Direct link to Mainsail">​</a></h2>
<p>Mainsail is the control interface for your printer. Mainsail is a web application that talks to Klipper through Moonraker (the Klipper API). Mainsail is what you'll be using to start prints, monitor progress, configure klipper and much more. Mainsail is what you see when you open <a href=http://RatOS.local/ target=_blank rel="noopener noreferrer">http://RatOS.local/</a>;</p>
<p><img decoding=async loading=lazy alt=Mainsail src=/assets/images/mainsail-922eed60016d364ccb150fa05701430e.jpg width=1510 height=1191 class=img_Q1RW></p>
<div class="theme-admonition theme-admonition-info admonition_ZYOd alert alert--info"><div class=admonitionHeading_H4Ba><span class=admonitionIcon_251E><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_CRZj><p>To learn more about mainsail, <a href=https://docs.mainsail.xyz/ target=_blank rel="noopener noreferrer">read the mainsail documentation</a>.</div></div>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=initial-configuration>Initial Configuration<a href=#initial-configuration class=hash-link aria-label="Direct link to Initial Configuration" title="Direct link to Initial Configuration">​</a></h2>
<p>On the dashboard of Mainsail you'll see 3 macros in the Macros section.</p>
<p><img decoding=async loading=lazy alt="Initial Config Macros" src=/assets/images/initial-macros-bbe0a754a9a9550fa29a1d6c23151c5d.png width=420 height=210 class=img_Q1RW></p>
<p>Click on the button that corresponds to your printer to install the configuration.</p>
<div class="theme-admonition theme-admonition-tip admonition_ZYOd alert alert--success"><div class=admonitionHeading_H4Ba><span class=admonitionIcon_251E><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_CRZj><p>If you accidentally clicked the wrong button you can install another printer config by copying the contents of the template found in <code>config/templates/</code> and pasting it into printer.cfg.</div></div>
<p>Now navigate to the <code>Machine</code> page in Mainsail (the webinterface you just opened in your browser), there's a list of files, among them is <code>printer.cfg</code>. Right click it and choose "Edit". This is where your klipper configuration lives. As you can see, it's prepopulated with all you need to get your printer up and running quick and easy. <strong>Follow the instructions in the file to make sure the configuration matches your setup.</strong></p>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=verify-stepper-directions>Verify Stepper Directions<a href=#verify-stepper-directions class=hash-link aria-label="Direct link to Verify Stepper Directions" title="Direct link to Verify Stepper Directions">​</a></h2>
<p>!> Do NOT use RatOS with other than stock steppers. If you are using different steppers please make sure to check their rating, and configure their currents accordingly (<a href=/docs/1.2.x/configuration/includes-and-overrides>see Includes & Overrides</a>).</p>
<p>Make sure your steppers are running in the correct direction. To do this, center all your axes by moving the carriage and bed manually, then type <code>SET_CENTER_KINEMATIC_POSITION</code> in the console. You can now use the Mainsail controls to move the axes. Check that your bed moves down when Z is <strong>increased</strong>. By default, the Z controls in the Mainsail interface will increase Z when you click the up arrow. This will lower the bed on a CoreXY machine with a moving bed such as the V-Core 3, and raise the X gantry on a bedslinger such as the V-Minion or V-Cast. If your bed does not move down (or your x gantry doesn't raise) when you click the up arrow, change the direction of your Z steppers in printer.cfg. There's instructions on how to do that at the top of printer.cfg.</p>
<div class="theme-admonition theme-admonition-info admonition_ZYOd alert alert--info"><div class=admonitionHeading_H4Ba><span class=admonitionIcon_251E><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_CRZj><p>If you want to invert the Z behavior in the Mainsail interface (ie. making the bed move down when you click the down arrow), click the cogs (settings) in the upper right part of the interface, then "control", and then enable "Invert Z Control". This will <strong>NOT</strong> change your stepper directions, it will only change what gcode the buttons execute.</div></div>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=verify-endstops-and-z-probe>Verify Endstops and Z-Probe<a href=#verify-endstops-and-z-probe class=hash-link aria-label="Direct link to Verify Endstops and Z-Probe" title="Direct link to Verify Endstops and Z-Probe">​</a></h2>
<p>Navigate to the Machine tab. In here you can see your endstop state. Refresh the endstop state and verify that all endstops are open, and that the state changes to triggered when you manually trigger the endstops or z-probe and refresh the endstop state.</p>
<div class="theme-admonition theme-admonition-info admonition_ZYOd alert alert--info"><div class=admonitionHeading_H4Ba><span class=admonitionIcon_251E><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_CRZj><p>To test, debug and/or verify a BLTouch, refer to the <a href=https://www.klipper3d.org/BLTouch.html target=_blank rel="noopener noreferrer">BLTouch klipper documentation</a></div></div>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=z-offset>Z-Offset<a href=#z-offset class=hash-link aria-label="Direct link to Z-Offset" title="Direct link to Z-Offset">​</a></h2>
<p>An easy way to do probe z-offset calibration is to home the printer, then put a piece of paper underneath the nozzle. Now babystep Z through the Mainsail interface (or by issuing G0 commands through the console) until the nozzle touches the paper and there's a bit of resistance when you pull on it. Then write "GET_POSITION" in the console and find the line that says <code>// kinematic: ...</code> And use the Z coordinate from that line, multiplied by -1. So if it says <code>// kinematic: X:0.000000 Y:0.000000 Z:-0.400000</code> you need to add 0.4 to your probe's z_offset in printer.cfg.</p>
<p>Alternatively you can use the <code>PROBE_CALIBRATE</code> command, read more in the <a href=https://www.klipper3d.org/Probe_Calibrate.html#calibrating-probe-z-offset target=_blank rel="noopener noreferrer">klipper probe calibration documentation</a></p>
<div class="theme-admonition theme-admonition-info admonition_ZYOd alert alert--info"><div class=admonitionHeading_H4Ba><span class=admonitionIcon_251E><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_CRZj><p>The z-offset is the distance in Z between your probe's trigger point and your nozzle in gcode space. This is typically within 0-4mm, if you get a larger value or a negative value, something is wrong, and you should investigate further.</div></div>
<div class="theme-admonition theme-admonition-tip admonition_ZYOd alert alert--success"><div class=admonitionHeading_H4Ba><span class=admonitionIcon_251E><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_CRZj><p>in Mainsail 2.1 you can enable the Z-Offset panel outside of printing in your interface settings, and it now has a "Save" button, which means you can use those buttons to babystep until the nozzle touches the paper and just hit "Save" and you're done.</div></div>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=updating>Updating<a href=#updating class=hash-link aria-label="Direct link to Updating" title="Direct link to Updating">​</a></h2>
<p>In the <code>MACHINE</code> tab in Mainsail, you'll see a sheet with the title "Update Manager", if you're familiar with Fluidd or Mainsail, you'll notice a new entry called <code>RatOS</code>. This <code>RatOS</code> package will update all the config files in the config folder, improvements, support for hotends, macros, extruders, new boards etc, will be coming to your printer this way in the future. <strong>Be sure to keep this up to date, especially if you update klipper</strong>.</p>
<p>In general, it's advisable to keep all your packages up to date, but if you're happy with how your printer works and there's nothing interesting to you in the updates, it's OK to delay updating until a later time. Klipper is a rapdily evolving project, that also means that bugs <em>do happen</em>, they're usually fixed very quickly, but if you have a bunch of important prints coming up, maybe delay the updates till afterwards.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=update>Update<a href=#update class=hash-link aria-label="Direct link to Update" title="Direct link to Update">​</a></h3>
<p>Now we've got that out of the way, please go ahead and update everything to the latest version.</p>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=tuning>Tuning<a href=#tuning class=hash-link aria-label="Direct link to Tuning" title="Direct link to Tuning">​</a></h2>
<p>When you've verified that everything works, and you have your <a href=/docs/1.2.x/slicers>slicer configured</a> to use the <code>START_PRINT</code> and <code>END_PRINT</code> macros, you can now start tuning. Refer to the klipper documentation for <a href=https://www.klipper3d.org/Config_checks.html#calibrate-pid-settings target=_blank rel="noopener noreferrer">PID Tuning</a>, <a href=https://www.klipper3d.org/Pressure_Advance.html target=_blank rel="noopener noreferrer">Pressure Advance tuning</a>, <a href=https://www.klipper3d.org/Resonance_Compensation.html target=_blank rel="noopener noreferrer">manual Input Shaper calibration</a> or <a href=https://www.klipper3d.org/Measuring_Resonances.html target=_blank rel="noopener noreferrer">automatic Input Shaper calibration via an ADXL345</a>, and <a href=https://www.klipper3d.org/Skew_Correction.html target=_blank rel="noopener noreferrer">Skew Correction</a> respectively.</p>
<div class="theme-admonition theme-admonition-info admonition_ZYOd alert alert--info"><div class=admonitionHeading_H4Ba><span class=admonitionIcon_251E><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Using an accelerometer (ADXL345)</div><div class=admonitionContent_CRZj><p>See the wiring diagram for you board on how to connect your ADXL345, RatOS primarily uses an SPI connection on the MCU itself instead of the RPi, for ease of use. Some printers may require more than one ADXL345, and in that case a config for the ADXL345 connected to the Raspberry Pi is also available.<p>If you want to use an ADXL345 for automatic input shaper calibration, all the software you need is already preinstalled on the pi, you just need to wire and map the pins for your ADXL345, and you're good to go.<p>To enable resonance testing, uncomment the adxl include section at the top of printer.cfg. To verify that your ADXL is properly connected, write MEASURE_AXES_NOISE in the Fluidd console, if the values are below 100, you're good to go. To calibrate input shaper, write SHAPER_CALIBRATE in the console.<p>For more information on automatic input shaper calibration, check out the official klipper documentation.</div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/Rat-OS/RatOS/edit/v2.x/site/versioned_docs/version-1.2.x/configuration.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Lzxc aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_Vlfz"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/1.2.x/installation><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/1.2.x/slicers><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Slicer Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_npFu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#introduction class="table-of-contents__link toc-highlight">Introduction</a><li><a href=#mainsail class="table-of-contents__link toc-highlight">Mainsail</a><li><a href=#initial-configuration class="table-of-contents__link toc-highlight">Initial Configuration</a><li><a href=#verify-stepper-directions class="table-of-contents__link toc-highlight">Verify Stepper Directions</a><li><a href=#verify-endstops-and-z-probe class="table-of-contents__link toc-highlight">Verify Endstops and Z-Probe</a><li><a href=#z-offset class="table-of-contents__link toc-highlight">Z-Offset</a><li><a href=#updating class="table-of-contents__link toc-highlight">Updating</a><ul><li><a href=#update class="table-of-contents__link toc-highlight">Update</a></ul><li><a href=#tuning class="table-of-contents__link toc-highlight">Tuning</a></ul></div></div></div></div></main></div></div></div></div>