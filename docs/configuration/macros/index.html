<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configuration/macros" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Configuring RatOS Macros | RatOS</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-rh=true name=twitter:image content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-rh=true property=og:url content=https://os.ratrig.com/docs/configuration/macros><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Configuring RatOS Macros | RatOS"><meta data-rh=true name=description content="RatOS comes with a bunch of flexible predefined macro's that can be customized via variables and macro hooks."><meta data-rh=true property=og:description content="RatOS comes with a bunch of flexible predefined macro's that can be customized via variables and macro hooks."><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://os.ratrig.com/docs/configuration/macros><link data-rh=true rel=alternate href=https://os.ratrig.com/docs/configuration/macros hreflang=en><link data-rh=true rel=alternate href=https://os.ratrig.com/docs/configuration/macros hreflang=x-default><link data-rh=true rel=preconnect href=https://C4EC7MR0DP-dsn.algolia.net crossorigin><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="RatOS RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="RatOS Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-NQB0MHKGLP"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NQB0MHKGLP",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title=RatOS href=/opensearch.xml><link rel=stylesheet href=/assets/css/styles.f396f2c3.css><script src=/assets/js/runtime~main.fb384533.js defer></script><script src=/assets/js/main.d1cb883d.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"dark",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_O1Ym href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logos/Logo-white.svg alt=RatOS class="themedComponent_CFmr themedComponent--light_r4sP"><img src=/img/logos/Logo-white.svg alt=RatOS class="themedComponent_CFmr themedComponent--dark_mR26"></div><b class="navbar__title text--truncate"></b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/introduction>Documentation</a><a class="navbar__item navbar__link" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/changelog>Changelog</a><a href=https://github.com/sponsors/miklschmidt target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Sponsor<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Ih47><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Social</a><ul class=dropdown__menu><li><a href=https://discord.gg/ratrig target=_blank rel="noopener noreferrer" class=dropdown__link>Discord<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Ih47><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://github.com/Rat-OS/RatOS target=_blank rel="noopener noreferrer" class=dropdown__link>GitHub<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Ih47><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="navbar__items navbar__items--right"><div class=navbar__item><a href=https://github.com/Rat-OS/RatOS/releases class="[.navbar-sidebar_&]:!hidden hidden [@media(min-width:1100px)]:inline-flex items-center justify-center border hover:no-underline font-semibold rounded-md focus:outline-none focus:ring-2 capitalize relative active:translate-y-px active:scale-[99%] active:outline-none transition-all text-white hover:text-white bg-brand-400/50 hover:bg-brand-700 border-transparent focus:ring-offset-2 focus:ring-brand-400 dark:focus:ring-offset-zinc-900 shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.05)] dark:before:-inset-px dark:before:rounded-lg dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_hsl(var(--brand-900)),_0px_1px_0px_0px_hsl(var(--brand-400)_/_50%)_inset] px-3 py-2 text-sm gap-2">
						<span class="hidden xl:inline-flex gap-2">
						<svg width=24 height=24 viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="lucide lucide-cloud-download size-5"><path d="M12 13v8l-4-4"/><path d="m12 21 4-4"/><path d="M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284"/></svg>
						Download RatOS
						</span>
						<span class=xl:hidden>Download</span>
					</a></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/docs/configuration/macros>2.1.x</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/configuration/macros>2.1.x</a><li><a class=dropdown__link href=/docs/2.0.x/configuration/macros>2.0.x</a><li><a class=dropdown__link href=/docs/1.2.x/configuration/macros>1.2.x</a><li><a class=dropdown__link href=/changelog>Changelog</a></ul></div><div class=navbarSearchContainer_q4HK><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_Kydz"><div class=docsWrapper_lfnA><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_TLEG" type=button></button><div class=docRoot_TCQk><aside class="theme-doc-sidebar-container docSidebarContainer_RBFX"><div class=sidebarViewport_PzkZ><div class=sidebar_CkKa><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_XxbU"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/introduction>Getting Started</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/introduction>Introduction</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/installation>Installation</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration>Initial Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/slicers>Slicer Configuration</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/configuration/macros>Configuration</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/configuration/macros>Configuring RatOS Macros</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/adaptive-meshing>Bed Meshing</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/toolboards>Toolboard Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/includes-and-overrides>Includes & Overrides</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/beacon_contact>Beacon Contact</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/calibration>Calibration Macros</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/chamber_filter>Chamber Filter Control</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/chamber_heater>Chamber Heater Control</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/filament_sensors>Filament Sensors</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/filaments>Filament Macros</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/idex>IDEX Macros</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/led>LED Control</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/macros_list>List of all macros</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/guides/4028>Guides</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/4028>Connecting a 4028 fan</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/real-time-analysis>Realtime Analysis Tool</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/stowable-probes>Stowable Probes</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/boards/list>Supported Boards</a><button aria-label="Expand sidebar category 'Supported Boards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/toolboards/list>Supported Toolboards</a><button aria-label="Expand sidebar category 'Supported Toolboards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/printers/list>Supported Printers</a><button aria-label="Expand sidebar category 'Supported Printers'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/troubleshooting>Troubleshooting</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/manual-firmware-compilation>Manual Firmware Compilation</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a href=https://www.klipper3d.org/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true>Other Documentation</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://www.klipper3d.org/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_AM3v" tabindex=0>Klipper<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Ih47><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://docs.mainsail.xyz/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_AM3v" tabindex=0>Mainsail<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Ih47><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://moonraker.readthedocs.io/en/latest/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_AM3v" tabindex=0>Moonraker<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Ih47><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://klipperscreen.readthedocs.io/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_AM3v" tabindex=0>KlipperScreen<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Ih47><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></ul></nav></div></div></aside><main class=docMainContainer_fatz><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_XoUU"><div class=docItemContainer_foTY><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_gatc" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_IVai><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Configuration</span><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Configuring RatOS Macros</span><meta itemprop=position content=2></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.1.x</span><div class="tocCollapsible_QiFF theme-doc-toc-mobile tocMobile_YCTM"><button type=button class="clean-btn tocCollapsibleButton_cfAp">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring RatOS Macros</h1></header>
<p>RatOS comes with a bunch of flexible predefined macro's that can be customized via variables and macro hooks.</p>
<ul>
<li><a href=#variables>Variables</a></li>
<li><a href=#printing>Printing</a></li>
<li><a href=#speed>Speed</a></li>
<li><a href=#homing>Homing</a></li>
<li><a href=#heating>Heating</a></li>
<li><a href=#bed-mesh-calibration>Bed Mesh Calibration</a></li>
<li><a href=#nozzle-priming>Nozzle Priming</a></li>
<li><a href=#filament-loadingunloading>Filament loading/unloading</a></li>
<li><a href=#parking>Parking</a></li>
<li><a href=#toolhead-configuration>Toolhead configuration</a></li>
<li><a href=#vaoc>VAOC</a></li>
<li><a href=#idex>IDEX</a></li>
<li><a href=#beacon-probe>Beacon probe</a></li>
<li><a href=#stowable-probes>Stowable probes</a></li>
<li><a href=#skew-profile>Skew profile</a></li>
<li><a href=#user-macro-hooks>User macro hooks</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=variables>Variables<a href=#variables class=hash-link aria-label="Direct link to Variables" title="Direct link to Variables">​</a></h2>
<p>In your printer.cfg at the top, you'll notice this:</p>
<div class="language-properties codeBlockContainer_Qv3L theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockTitle_vJjW>printer.cfg</div><div class=codeBlockContent_i1V5><pre tabindex=0 class="prism-code language-properties codeBlock_zvjK thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_cvN2><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)">##########################################</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### MACRO CONFIGURATION</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### Configure the behavior...</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">##########################################</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">[gcode_macro</span><span class="token plain"> </span><span class="token value attr-value">RatOS]</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain">....</span><br></span></code></pre><div class=buttonGroup_mcfD><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_AWql aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon__HZA><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_b_eY><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This is a macro that serves as a place to store variables that all the RatOS macro's refer to when they're executed. Since they're gcode variables you can change them on the fly, for example from your slicer's custom gcode sections:</p>
<div class="language-gcode codeBlockContainer_Qv3L theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_i1V5><pre tabindex=0 class="prism-code language-gcode codeBlock_zvjK thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_cvN2><span class=token-line style=color:#F8F8F2><span class="token property">S</span><span class="token property">E</span><span class="token property">T</span><span class="token plain">_GCODE_VARIABLE </span><span class="token property">M</span><span class="token property">A</span><span class="token property">C</span><span class="token property">R</span><span class="token property">O</span><span class="token plain">=</span><span class="token property">R</span><span class="token plain">atOS </span><span class="token property">V</span><span class="token property">A</span><span class="token property">R</span><span class="token property">I</span><span class="token property">A</span><span class="token property">B</span><span class="token property">L</span><span class="token property">E</span><span class="token plain">=relative_extrusion </span><span class="token property">V</span><span class="token property">A</span><span class="token property">L</span><span class="token property">U</span><span class="token property">E</span><span class="token plain">=</span><span class="token property">T</span><span class="token plain">rue</span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token property">S</span><span class="token property">E</span><span class="token property">T</span><span class="token plain">_GCODE_VARIABLE </span><span class="token property">M</span><span class="token property">A</span><span class="token property">C</span><span class="token property">R</span><span class="token property">O</span><span class="token plain">=</span><span class="token property">R</span><span class="token plain">atOS </span><span class="token property">V</span><span class="token property">A</span><span class="token property">R</span><span class="token property">I</span><span class="token property">A</span><span class="token property">B</span><span class="token property">L</span><span class="token property">E</span><span class="token plain">=preheat_extruder_temp </span><span class="token property">V</span><span class="token property">A</span><span class="token property">L</span><span class="token property">U</span><span class="token property">E</span><span class="token plain">=200</span><br></span></code></pre><div class=buttonGroup_mcfD><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_AWql aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon__HZA><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_b_eY><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Not all of the available variables are listed in printer.cfg by default. If you want to change a variable that isn't in printer.cfg simply just add it under the <code>[gcode_macro RatOS]</code> section.</p>
<p>Below you'll find a list of the available variables and what they do.</p>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=printing>Printing<a href=#printing class=hash-link aria-label="Direct link to Printing" title="Direct link to Printing">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_relative_extrusion<td>True / False<td>False<td>Controls which extrusion mode START_PRINT ends in. Which value you use here depends on your slicer configuration, in other words this variable should always correspond to the extrusion mode setting in your slicer. It is recommended to configure your slicer for relative extrusion and set this variable to True.<tr><td>variable_force_absolute_position<td>True / False<td>False<td>Forces absolute positioning before the print starts.</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=speed>Speed<a href=#speed class=hash-link aria-label="Direct link to Speed" title="Direct link to Speed">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_macro_travel_speed<td>number<td>300<td>XY Travel speed to use for gcode moves in RatOS Macro's in mm/s.<tr><td>variable_macro_travel_accel<td>number<td>2000<td>XY Travel acceleration to use for gcode moves in RatOS Macro's in mm/s².<tr><td>variable_macro_z_speed<td>number<td>15<td>Z Travel speed to use for gcode moves in RatOS Macro's in mm/s.</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=homing>Homing<a href=#homing class=hash-link aria-label="Direct link to Homing" title="Direct link to Homing">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_z_probe<td>"static" / "stowable"<td>"static"<td>z-probe type<tr><td>variable_homing<td>"endstops" / "sensorless"<td>"endstops"<td>axis homing method<tr><td>variable_safe_home_x<td>"middle" / number<td>"middle"<td>The x coordinate for where to return the toolhead to when homing Z<tr><td>variable_safe_home_y<td>"middle" / number<td>"middle<td>The y coordinate for where to return the toolhead to when homing Z<tr><td>variable_homing_z_hop<td>number<td>15<td>How much to raise the toolhead after homing Z. Probe configs may change this value.<tr><td>variable_driver_type_x<td>string<td>"tmc2209"<td>The driver type used on X. Used to restore current after sensorless homing<tr><td>variable_driver_type_y<td>string<td>"tmc2209"<td>The driver type used on X. Used to restore current after sensorless homing<tr><td>variable_sensorless_x_current<td>number<td>0.4<td>stepper driver run current for sensorless x-homing<tr><td>variable_sensorless_y_current<td>number<td>0.4<td>stepper driver run current for sensorless y-homing</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=heating>Heating<a href=#heating class=hash-link aria-label="Direct link to Heating" title="Direct link to Heating">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_preheat_extruder<td>True / False<td>True<td>Enables or disables preheating of the nozzle to 150 degrees during the START_PRINT macro. There are several benefits to preheating the nozzle. 1) Gives the bed additional time to diffuse the heat. 2) Softens plastic that may be stuck in the nozzle so it doesn't block your probe from triggering. 3) If using a non thermally compensated inductive probe, it makes the temperature and thus the offset of the probe more predictable and consistent.<tr><td>variable_preheat_extruder_temp<td>Number<td>150<td>The temperature to preheat the extruder to, to soften the material at the nozzle tip</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=bed-mesh-calibration>Bed Mesh Calibration<a href=#bed-mesh-calibration class=hash-link aria-label="Direct link to Bed Mesh Calibration" title="Direct link to Bed Mesh Calibration">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<tbody><tr><td>variable_calibrate_bed_mesh<td>True / False<td>True<tr><td>variable_adaptive_mesh<td>True / False<td>True</table>
<p>Whether or not to calibrate a bed mesh before each print. If you prefer calibrating your bed mesh manually instead of on each print, you can disable it by setting this to <code>False</code>. Disabling <code>variable_calibrate_bed_mesh</code> will stop RatOS from loading a bed mesh entirely. If you want it to load a mesh, you can set <code>variable_bed_mesh_profile</code> to the name of the profile you want it to load.</p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<tbody><tr><td>variable_bed_mesh_profile<td>undefined / string<td>undefined</table>
<p>Use this variable to set name for the bed_mesh profile that RatOS calibrate and loads. If <code>variable_calibrate_bed_mesh</code> is <code>False</code> you must set this variable to the profile name you wish to load, or no bed mesh will be loaded. If variable_calibrate_bed_mesh is <code>True</code> and this variable isn't set, RatOS will use <code>ratos</code> as the profile name.</p>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=nozzle-priming>Nozzle Priming<a href=#nozzle-priming class=hash-link aria-label="Direct link to Nozzle Priming" title="Direct link to Nozzle Priming">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_nozzle_priming<td>"primeblob" / False<td>"primeblob"<td>Whether or not to prime the nozzle during the START_PRINT macro. "primeblob" will put a small blob at the edge of the bed that is intended to wrap around the nozzle, then lifts the toolhead out of it while extruding a small line, effective for cleaning the nozzle and it's easy to clean up.<tr><td>variable_nozzle_prime_start_x<td>"min" / "max" / number<td>"max"<td>Where to place the primeline or blob in X. "min" starts the blob or line at x=0 + some safety margin. "max" starts the blob or line at x=max - some safety margin. If set to a number, that number will be used as the starting x coordinate of the line or blob.<tr><td>variable_nozzle_prime_start_y<td>"min" / "max" / number<td>"min"<td>Where to place the primeline or blob in Y. "min" starts the blob or line at y=0 + some safety margin. "max" starts the blob or line at y=max - some safety margin. If set to a number, that number will be used as the starting y coordinate of the line or blob.<tr><td>variable_nozzle_prime_direction<td>"auto" / "forwards" / "backwards<td>"auto"<td>The direction to draw the line or blob in, if "backwards" the toolhead will move toward the front of the printer, if "forwards" it will move towards the back. When set to "auto" it will move towards the middle regardless of <code>variable_nozzle_prime_start_y</code>.<tr><td>variable_nozzle_prime_bridge_fan<td>number<td>102<td>priming fan speed 0-255</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=filament-loadingunloading>Filament loading/unloading<a href=#filament-loadingunloading class=hash-link aria-label="Direct link to Filament loading/unloading" title="Direct link to Filament loading/unloading">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_filament_unload_length<td>number<td>130<td>How much to retract in mm when unloading filament after the tip has been formed<tr><td>variable_filament_unload_speed<td>number<td>5<td>How fast to retract the <code>filament_unload_length</code> filament in mm/s<tr><td>variable_filament_load_length<td>number<td>100<td>How much to extrude in mm when loading filament to get the filament to the nozzle<tr><td>variable_filament_load_speed<td>number<td>10<td>How fast to extrude the <code>filament_load_length</code> in mm/s</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=parking>Parking<a href=#parking class=hash-link aria-label="Direct link to Parking" title="Direct link to Parking">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_start_print_park_in<td>"back" / "center" / "front"<td>"back"<td>Where to park the toolhead during final nozzle heating.<tr><td>variable_start_print_park_x<td>number / undefined<td>undefined<td>Custom X coordinate to park the toolhead during final nozzle heating.<tr><td>variable_start_print_park_z_height<td>number<td>50<td>The z height at which to park the toolhead during final nozzle heating.<tr><td>variable_end_print_park_in<td>"back" / "center" / "front"<td>"back"<td>Where to park the toolhead after ending or canceling a print.<tr><td>variable_end_print_park_x<td>number / undefined<td>undefined<td>Custom X coordinate to park the toolhead after ending or canceling a print.<tr><td>variable_end_print_park_z_hop<td>number<td>number<td>How many mm to lift the nozzle when after ending or cancelling a print.<tr><td>variable_pause_print_park_in<td>"back" / "center" / "front"<td>"back"<td>Where to park the toolhead when pausing a print.</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=toolhead-configuration>Toolhead configuration<a href=#toolhead-configuration class=hash-link aria-label="Direct link to Toolhead configuration" title="Direct link to Toolhead configuration">​</a></h2>
<p><code>[gcode_macro T0]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_hotend_type<td>"SF", "HF", "UHF"<td><td>Nozzle type. used for loading/unloading macros.<tr><td>variable_has_cht_nozzle<td>number<td><td>Nozzle type. used for loading/unloading macros.<tr><td>variable_cooling_position_to_nozzle_distance<td>number<td>40<td>MM from the cooling position to the nozzles melting zone.<tr><td>variable_tooolhead_sensor_to_extruder_gear_distance<td>number<td>15<td>MM from the toolhead filament sensor trigger point to the extruder gears.<tr><td>variable_extruder_gear_to_cooling_position_distance<td>number<td>30<td>MM from the extruder gears to the cooling zone.<tr><td>variable_filament_loading_nozzle_offset<td>number<td>-5<td>MM loading offset for fine tuning.<tr><td>variable_filament_grabbing_length<td>number<td>5<td>MM filament grabbing length when inserting filament into the extruder.<tr><td>variable_filament_grabbing_speed<td>number<td>1<td>Filament grabbing speed.<tr><td>variable_enable_insert_detection<td>True / False<td>True<td>Enable the filament sensor insert detection.<tr><td>variable_enable_runout_detection<td>True / False<td>True<td>Enable the filament sensor runout detection.<tr><td>variable_enable_clog_detection<td>True / False<td>True<td>Enable the filament sensor clog detection.<tr><td>variable_unload_after_runout<td>True / False<td>True<td>Unload filament from toolhead after if runout has been detected.<tr><td>variable_resume_after_insert<td>True / False<td>True<td>Auto resume a paused print after runout and insert.<tr><td>variable_purge_after_load<td>number<td>0<td>Purge x mm after the filament has been loaded to the nozzle tip.<tr><td>variable_purge_before_unload<td>number<td>0<td>Purge x mm before the filament unloads.<tr><td>variable_extruder_load_speed<td>number<td>60<td>Extruder/cooling zone loading speed.<tr><td>variable_filament_load_speed<td>number<td>10<td>Filament nozzle loading speed.<tr><td>variable_temperature_offset<td>number<td>0<td>Adds a positive or negative offset to the nozzle temperature.<tr><td>variable_has_oozeguard<td>True / False<td>False<td>Toolhead has a oozeguard.<tr><td>variable_has_front_arm_nozzle_wiper<td>True / False<td>False<td>Toolhead has a front arm nozzle wiper.<tr><td>variable_loading_position<td>number<td>0<td>X-position for filament loading/unloading actions.<tr><td>variable_parking_position<td>number<td>0<td>Toolhead parking x-position.</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=vaoc>VAOC<a href=#vaoc class=hash-link aria-label="Direct link to VAOC" title="Direct link to VAOC">​</a></h2>
<p><code>[gcode_macro _VAOC]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_is_fixed<td>True / False<td>False<td>VAOC is installed on a fix position.<tr><td>variable_safe_z<td>number<td>60<td>Safe z-height for xy travel moves.<tr><td>variable_auto_z_offset_calibration<td>True / False<td>True<td>Performs a auto z-offset calibration before the print starts if needed.<tr><td>variable_enable_camera_cooling<td>True / False<td>True<td>Enables the part cooling fan of the currently loaded toolhead.<tr><td>variable_camera_cooling_fan_speed<td>number<td>0.3<td>Part cooling fan speed of the currently loaded toolhead.<tr><td>variable_camera_cooling_temperature<td>number<td>50<td>Enables the integrated VAOC fan at the configured bed temperature.<tr><td>variable_toolchange_travel_speed<td>number<td>300<td>XY travel move speeds.<tr><td>variable_toolchange_travel_accel<td>number<td>5000<td>XY travel move sccelerations.</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=idex>IDEX<a href=#idex class=hash-link aria-label="Direct link to IDEX" title="Direct link to IDEX">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_auto_center_subject<td>True / False<td>False<td>Experimental auto centering subject on build plate for copy and mirror mode.<tr><td>variable_toolchange_zhop<td>number<td>2.0<td>Toolshift z-hop.<tr><td>variable_toolchange_zspeed<td>number<td>25<td>Toolshift z-hop speed.<tr><td>variable_toolchange_sync_fans<td>True / False<td>False<td>Synchronizes fan speeds while printing.<tr><td>variable_toolchange_combined_zhop<td>True / False<td>False<td>Combines z-hop and retract/deretract moves for toolshifts.<tr><td>variable_toolchange_travel_speed<td>number<td>300<td>Toolshift travel speed.<tr><td>variable_toolchange_travel_accel<td>number<td>5000<td>Toolshift travel acceleration.<tr><td>variable_toolchange_extrusion<td>number<td>2.0<td>Toolshift deretraction.<tr><td>variable_toolchange_retraction<td>number<td>2.0<td>Toolshift retraction.<tr><td>variable_toolchange_feedrate<td>number<td>7200<td>Extruder feedrate for retract/deretract moves for toolshifts.<tr><td>variable_toolchange_prepurging_timer<td>number<td>0<td>Prepurge some filament before going back to the buildplate after X seconds of inactivity.<tr><td>variable_toolchange_purge<td>number<td>25<td>MM of filament that gets prepruged in case the timer has been configured,<tr><td>variable_toolchange_standby_temp<td>number<td>-1<td>If configured the toolheads are going into standby mode when parked.<tr><td>variable_toolchange_first_purge<td>number<td>50<td>MM of filament that gets purged before a toolheads first use.</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=beacon-probe>Beacon probe<a href=#beacon-probe class=hash-link aria-label="Direct link to Beacon probe" title="Direct link to Beacon probe">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_beacon_bed_mesh_scv<td>number<td>25<td>Square corner velocity for beacon proximity bed meshing.<tr><td>variable_beacon_contact_z_homing<td>True / False<td>False<td>Use beacon contact for z-homing.<tr><td>variable_beacon_contact_z_calibration<td>True / False<td>False<td>Use beacon contact z-calibration.<tr><td>variable_beacon_contact_calibration_location<td>number<td>130<td>Beacon contact z-calibration location.<tr><td>variable_beacon_contact_calibrate_margin_x<td>number<td>30<td>Beacon contact z-calibration x-margin.<tr><td>variable_beacon_contact_bed_mesh<td>True / False<td>False<td>Use beacon contact for bed meshing.<tr><td>variable_beacon_contact_bed_mesh_samples<td>number<td>2<td>Beacon contact bed mesh probe samples.<tr><td>variable_beacon_contact_z_tilt_adjust<td>True / False<td>False<td>Use beacon contact for z-tilting.<tr><td>variable_beacon_contact_z_tilt_adjust_samples<td>number<td>2<td>Beacon contact z-tilt probe samples.<tr><td>variable_beacon_contact_prime_probing<td>True / False<td>False<td>Use beacon contact to probe for prime blobs.<tr><td>variable_beacon_contact_calibration_temp<td>number<td>150<td>Beacon contact z-calibration nozzle temperature.<tr><td>variable_beacon_contact_expansion_compensation<td>True / False<td>False<td>Use nozzle thermal expansion compensation.<tr><td>variable_beacon_contact_expansion_multiplier<td>number<td>1.0<td>Multiplier for the nozzle thermal expansion compensation.</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=stowable-probes>Stowable probes<a href=#stowable-probes class=hash-link aria-label="Direct link to Stowable probes" title="Direct link to Stowable probes">​</a></h2>
<p><code>[gcode_macro RatOS]</code></p>
<p>These variables are only relevant when using a stowable probe such as Euclid or Klicky. Use these to customize and finetune the deployment and stowing procedures.</p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_stowable_probe_position_preflight<td>Tuple<td>undefined<td>The coordinates to move the toolhead to before the probe deployment routine. Example: <code>[30, 60]</code><tr><td>variable_stowable_probe_position_side<td>Tuple<td>undefined<td>The coordinates to move the toolhead to before entering the dock during deployment, or exiting the dock while stowing. Example: <code>[30, 0]</code><tr><td>variable_stowable_probe_position_dock<td>Tuple<td>undefined<td>The coordinates of the toolhead when it's positioned perfectly inside the dock for pickup. Example: <code>[0, 0]</code><tr><td>variable_stowable_probe_position_exit<td>Tuple<td>undefined<td>The coordinates to move the toolhead to when exiting the dock while deploying or entering the dock while stowing. Example: <code>[0, 60]</code></table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=skew-profile>Skew profile<a href=#skew-profile class=hash-link aria-label="Direct link to Skew profile" title="Direct link to Skew profile">​</a></h2>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_skew_profile<td>string or undefined<td>undefined<td>Use this if you have calibrated and saved a skew profile that you want to load in the START_PRINT macro. To activate it, set the variable to the name of your saved skew profile.</table>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=user-macro-hooks>User macro hooks<a href=#user-macro-hooks class=hash-link aria-label="Direct link to User macro hooks" title="Direct link to User macro hooks">​</a></h2>
<p>These hooks do nothing by default, that means you can safely implement them in your USER OVERRIDES section without copy pasting anything from the RatOS config files, like so:</p>
<div class="language-properties codeBlockContainer_Qv3L theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_i1V5><pre tabindex=0 class="prism-code language-properties codeBlock_zvjK thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_cvN2><span class=token-line style=color:#F8F8F2><span class="token key attr-name" style="color:rgb(241, 250, 140)">[gcode_macro</span><span class="token plain"> </span><span class="token value attr-value">_USER_START_PRINT_BED_MESH]</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">gcode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain">	SETUP_KAMP_MESHING</span><br></span></code></pre><div class=buttonGroup_mcfD><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_AWql aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon__HZA><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_b_eY><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_start_print_before_homing>_USER_START_PRINT_BEFORE_HOMING<a href=#_user_start_print_before_homing class=hash-link aria-label="Direct link to _USER_START_PRINT_BEFORE_HOMING" title="Direct link to _USER_START_PRINT_BEFORE_HOMING">​</a></h3>
<p>Runs before the printer homes at the start of START_PRINT.</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_start_print_heat_chamber>_USER_START_PRINT_HEAT_CHAMBER<a href=#_user_start_print_heat_chamber class=hash-link aria-label="Direct link to _USER_START_PRINT_HEAT_CHAMBER" title="Direct link to _USER_START_PRINT_HEAT_CHAMBER">​</a></h3>
<p>Runs right after the chamber has started heating, if CHAMBER_TEMP is supplied to START_PRINT.</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_start_print_after_heating_bed>_USER_START_PRINT_AFTER_HEATING_BED<a href=#_user_start_print_after_heating_bed class=hash-link aria-label="Direct link to _USER_START_PRINT_AFTER_HEATING_BED" title="Direct link to _USER_START_PRINT_AFTER_HEATING_BED">​</a></h3>
<p>Runs right after the bed has reached temp, before the internal _START_PRINT_AFTER_HEATING_BED</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_start_print_bed_mesh>_USER_START_PRINT_BED_MESH<a href=#_user_start_print_bed_mesh class=hash-link aria-label="Direct link to _USER_START_PRINT_BED_MESH" title="Direct link to _USER_START_PRINT_BED_MESH">​</a></h3>
<p>Runs before _START_PRINT_BED_MESH</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_start_print_park>_USER_START_PRINT_PARK<a href=#_user_start_print_park class=hash-link aria-label="Direct link to _USER_START_PRINT_PARK" title="Direct link to _USER_START_PRINT_PARK">​</a></h3>
<p>Runs before _START_PRINT_PARK</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_start_print_after_heating_extruder>_USER_START_PRINT_AFTER_HEATING_EXTRUDER<a href=#_user_start_print_after_heating_extruder class=hash-link aria-label="Direct link to _USER_START_PRINT_AFTER_HEATING_EXTRUDER" title="Direct link to _USER_START_PRINT_AFTER_HEATING_EXTRUDER">​</a></h3>
<p>Runs just before _START_PRINT_AFTER_HEATING_EXTRUDER</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_end_print_before_heaters_off>_USER_END_PRINT_BEFORE_HEATERS_OFF<a href=#_user_end_print_before_heaters_off class=hash-link aria-label="Direct link to _USER_END_PRINT_BEFORE_HEATERS_OFF" title="Direct link to _USER_END_PRINT_BEFORE_HEATERS_OFF">​</a></h3>
<p>Runs before the heaters are turned off in END_PRINT</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_end_print_after_heaters_off>_USER_END_PRINT_AFTER_HEATERS_OFF<a href=#_user_end_print_after_heaters_off class=hash-link aria-label="Direct link to _USER_END_PRINT_AFTER_HEATERS_OFF" title="Direct link to _USER_END_PRINT_AFTER_HEATERS_OFF">​</a></h3>
<p>Runs after the heaters are turned off in END_PRINT</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_end_print_park>_USER_END_PRINT_PARK<a href=#_user_end_print_park class=hash-link aria-label="Direct link to _USER_END_PRINT_PARK" title="Direct link to _USER_END_PRINT_PARK">​</a></h3>
<p>Runs before the toolhead is parked in END_PRINT</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_start_print>_USER_START_PRINT<a href=#_user_start_print class=hash-link aria-label="Direct link to _USER_START_PRINT" title="Direct link to _USER_START_PRINT">​</a></h3>
<p>Runs before the START_PRINT macro</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_end_start_print>_USER_END_START_PRINT<a href=#_user_end_start_print class=hash-link aria-label="Direct link to _USER_END_START_PRINT" title="Direct link to _USER_END_START_PRINT">​</a></h3>
<p>Runs after the START_PRINT macro</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_start_feature>_USER_START_FEATURE<a href=#_user_start_feature class=hash-link aria-label="Direct link to _USER_START_FEATURE" title="Direct link to _USER_START_FEATURE">​</a></h3>
<p>Runs at the start of a new print feature. This is useful for running custom G-Code based on the feature that is being printed.</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_user_end_feature>_USER_END_FEATURE<a href=#_user_end_feature class=hash-link aria-label="Direct link to _USER_END_FEATURE" title="Direct link to _USER_END_FEATURE">​</a></h3>
<p>Runs at the end of a print feature. This is useful for running custom G-Code based on the feature that is being printed.</p>
<h2 class="anchor anchorWithStickyNavbar_dDbT" id=internal-macro-hooks>Internal macro hooks<a href=#internal-macro-hooks class=hash-link aria-label="Direct link to Internal macro hooks" title="Direct link to Internal macro hooks">​</a></h2>
<p>These hooks are used internally, so if you override these be sure to copy paste the original implementation and modify that or you may break some functionality. Remember to check if there's an override in the printer's macro.cfg file, in which case that's the one you would copy.</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_start_print_heat_chamber>_START_PRINT_HEAT_CHAMBER<a href=#_start_print_heat_chamber class=hash-link aria-label="Direct link to _START_PRINT_HEAT_CHAMBER" title="Direct link to _START_PRINT_HEAT_CHAMBER">​</a></h3>
<p>Heats the chamber, if CHAMBER_TEMP is supplied to START_PRINT.</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_start_print_after_heating_bed>_START_PRINT_AFTER_HEATING_BED<a href=#_start_print_after_heating_bed class=hash-link aria-label="Direct link to _START_PRINT_AFTER_HEATING_BED" title="Direct link to _START_PRINT_AFTER_HEATING_BED">​</a></h3>
<p>Runs right after the bed has reached temp, after _USER_START_PRINT_AFTER_HEATING_BED. It is usually used for additional bed calibration, such as Z_TILT_ADJUST or QUAD_GANTRY_LEVELING depending on the printer.</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_start_print_bed_mesh>_START_PRINT_BED_MESH<a href=#_start_print_bed_mesh class=hash-link aria-label="Direct link to _START_PRINT_BED_MESH" title="Direct link to _START_PRINT_BED_MESH">​</a></h3>
<p>Handles bed meshing logic.</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_start_print_park>_START_PRINT_PARK<a href=#_start_print_park class=hash-link aria-label="Direct link to _START_PRINT_PARK" title="Direct link to _START_PRINT_PARK">​</a></h3>
<p>Parks the extruder while heating the nozzle to print temperature.</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_start_print_after_heating_extruder>_START_PRINT_AFTER_HEATING_EXTRUDER<a href=#_start_print_after_heating_extruder class=hash-link aria-label="Direct link to _START_PRINT_AFTER_HEATING_EXTRUDER" title="Direct link to _START_PRINT_AFTER_HEATING_EXTRUDER">​</a></h3>
<p>Primes the nozzle and loads the skew profile if any is defined in the RatOS variables.</p>
<h3 class="anchor anchorWithStickyNavbar_dDbT" id=_end_print_after_heaters_off>_END_PRINT_AFTER_HEATERS_OFF<a href=#_end_print_after_heaters_off class=hash-link aria-label="Direct link to _END_PRINT_AFTER_HEATERS_OFF" title="Direct link to _END_PRINT_AFTER_HEATERS_OFF">​</a></h3>
<p>Runs right after the heaters have been turned off in the END_PRINT macro.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/Rat-OS/RatOS/edit/v2.x/site/docs/configuration/macros.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Wvni aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_Fqlr"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/slicers><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Slicer Configuration</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/configuration/adaptive-meshing><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Bed Meshing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_fkUC thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#variables class="table-of-contents__link toc-highlight">Variables</a><li><a href=#printing class="table-of-contents__link toc-highlight">Printing</a><li><a href=#speed class="table-of-contents__link toc-highlight">Speed</a><li><a href=#homing class="table-of-contents__link toc-highlight">Homing</a><li><a href=#heating class="table-of-contents__link toc-highlight">Heating</a><li><a href=#bed-mesh-calibration class="table-of-contents__link toc-highlight">Bed Mesh Calibration</a><li><a href=#nozzle-priming class="table-of-contents__link toc-highlight">Nozzle Priming</a><li><a href=#filament-loadingunloading class="table-of-contents__link toc-highlight">Filament loading/unloading</a><li><a href=#parking class="table-of-contents__link toc-highlight">Parking</a><li><a href=#toolhead-configuration class="table-of-contents__link toc-highlight">Toolhead configuration</a><li><a href=#vaoc class="table-of-contents__link toc-highlight">VAOC</a><li><a href=#idex class="table-of-contents__link toc-highlight">IDEX</a><li><a href=#beacon-probe class="table-of-contents__link toc-highlight">Beacon probe</a><li><a href=#stowable-probes class="table-of-contents__link toc-highlight">Stowable probes</a><li><a href=#skew-profile class="table-of-contents__link toc-highlight">Skew profile</a><li><a href=#user-macro-hooks class="table-of-contents__link toc-highlight">User macro hooks</a><ul><li><a href=#_user_start_print_before_homing class="table-of-contents__link toc-highlight">_USER_START_PRINT_BEFORE_HOMING</a><li><a href=#_user_start_print_heat_chamber class="table-of-contents__link toc-highlight">_USER_START_PRINT_HEAT_CHAMBER</a><li><a href=#_user_start_print_after_heating_bed class="table-of-contents__link toc-highlight">_USER_START_PRINT_AFTER_HEATING_BED</a><li><a href=#_user_start_print_bed_mesh class="table-of-contents__link toc-highlight">_USER_START_PRINT_BED_MESH</a><li><a href=#_user_start_print_park class="table-of-contents__link toc-highlight">_USER_START_PRINT_PARK</a><li><a href=#_user_start_print_after_heating_extruder class="table-of-contents__link toc-highlight">_USER_START_PRINT_AFTER_HEATING_EXTRUDER</a><li><a href=#_user_end_print_before_heaters_off class="table-of-contents__link toc-highlight">_USER_END_PRINT_BEFORE_HEATERS_OFF</a><li><a href=#_user_end_print_after_heaters_off class="table-of-contents__link toc-highlight">_USER_END_PRINT_AFTER_HEATERS_OFF</a><li><a href=#_user_end_print_park class="table-of-contents__link toc-highlight">_USER_END_PRINT_PARK</a><li><a href=#_user_start_print class="table-of-contents__link toc-highlight">_USER_START_PRINT</a><li><a href=#_user_end_start_print class="table-of-contents__link toc-highlight">_USER_END_START_PRINT</a><li><a href=#_user_start_feature class="table-of-contents__link toc-highlight">_USER_START_FEATURE</a><li><a href=#_user_end_feature class="table-of-contents__link toc-highlight">_USER_END_FEATURE</a></ul><li><a href=#internal-macro-hooks class="table-of-contents__link toc-highlight">Internal macro hooks</a><ul><li><a href=#_start_print_heat_chamber class="table-of-contents__link toc-highlight">_START_PRINT_HEAT_CHAMBER</a><li><a href=#_start_print_after_heating_bed class="table-of-contents__link toc-highlight">_START_PRINT_AFTER_HEATING_BED</a><li><a href=#_start_print_bed_mesh class="table-of-contents__link toc-highlight">_START_PRINT_BED_MESH</a><li><a href=#_start_print_park class="table-of-contents__link toc-highlight">_START_PRINT_PARK</a><li><a href=#_start_print_after_heating_extruder class="table-of-contents__link toc-highlight">_START_PRINT_AFTER_HEATING_EXTRUDER</a><li><a href=#_end_print_after_heaters_off class="table-of-contents__link toc-highlight">_END_PRINT_AFTER_HEATERS_OFF</a></ul></ul></div></div></div></div></main></div></div></div></div>