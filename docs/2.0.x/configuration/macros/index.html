<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-2.0.x docs-doc-page docs-doc-id-configuration/macros" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Configuring RatOS Macros | RatOS</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-rh=true name=twitter:image content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-rh=true property=og:url content=https://os.ratrig.com/docs/2.0.x/configuration/macros><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=2.0.x><meta data-rh=true name=docusaurus_tag content=docs-default-2.0.x><meta data-rh=true name=docsearch:version content=2.0.x><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-2.0.x><meta data-rh=true property=og:title content="Configuring RatOS Macros | RatOS"><meta data-rh=true name=description content="RatOS comes with a bunch of flexible predefined macro's that can be customized via variables and macro hooks."><meta data-rh=true property=og:description content="RatOS comes with a bunch of flexible predefined macro's that can be customized via variables and macro hooks."><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://os.ratrig.com/docs/2.0.x/configuration/macros><link data-rh=true rel=alternate href=https://os.ratrig.com/docs/2.0.x/configuration/macros hreflang=en><link data-rh=true rel=alternate href=https://os.ratrig.com/docs/2.0.x/configuration/macros hreflang=x-default><link data-rh=true rel=preconnect href=https://BH4D9OD16A-dsn.algolia.net crossorigin><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="RatOS RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="RatOS Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-NQB0MHKGLP"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NQB0MHKGLP",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title=RatOS href=/opensearch.xml><link rel=stylesheet href=/assets/css/styles.bbd8df4b.css><script src=/assets/js/runtime~main.2a0f0f93.js defer></script><script src=/assets/js/main.851cfeae.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"dark",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent__V8X href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logos/Logo-white.svg alt=RatOS class="themedComponent_umBK themedComponent--light_tDpr"><img src=/img/logos/Logo-white.svg alt=RatOS class="themedComponent_umBK themedComponent--dark_RB4_"></div><b class="navbar__title text--truncate"></b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/2.0.x/introduction>Documentation</a><a class="navbar__item navbar__link" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/changelog>Changelog</a><a href=https://github.com/sponsors/miklschmidt target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Donate/Sponsor<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://discord.gg/ratrig target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://github.com/Rat-OS/RatOS target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/docs/2.0.x/configuration/macros>2.0.x</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/configuration/macros>2.1.x</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/2.0.x/configuration/macros>2.0.x</a><li><a class=dropdown__link href=/docs/1.2.x/configuration/macros>1.2.x</a><li><a class=dropdown__link href=/changelog>Changelog</a></ul></div><div class=navbarSearchContainer_ZGM0><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_ebYn"><div class=docsWrapper_WN4a><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_U9FN" type=button></button><div class=docRoot_xhYm><aside class="theme-doc-sidebar-container docSidebarContainer_fg0s"><div class=sidebarViewport_tHZA><div class=sidebar_ICAc><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_hjoG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/2.0.x/introduction>Getting Started</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/introduction>Introduction</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/installation>Installation</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/configuration>Initial Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/slicers>Slicer Configuration</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/2.0.x/configuration/macros>Configuration</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/2.0.x/configuration/macros>Configuring RatOS Macros</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/configuration/adaptive-meshing>Adaptive Meshing (BETA)</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/configuration/toolboards>Toolboard Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/configuration/includes-and-overrides>Includes & Overrides</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/configuration/advanced-stepper-configuration>Advanced Stepper Configuration</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/2.0.x/guides/4028>Guides</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/guides/4028>Connecting a 4028 fan</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/2.0.x/guides/stowable-probes>Stowable Probes</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/changelog#updating-from-ratos-v10>Updating from RatOS V1.x</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/2.0.x/boards/list>Supported Boards</a><button aria-label="Expand sidebar category 'Supported Boards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/2.0.x/toolboards/list>Supported Toolboards</a><button aria-label="Expand sidebar category 'Supported Toolboards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/2.0.x/printers/v-core-3>Supported Printers</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/2.0.x/troubleshooting>Troubleshooting</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/2.0.x/manual-firmware-compilation>Manual Firmware Compilation</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a href=https://www.klipper3d.org/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true>Other Documentation</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://www.klipper3d.org/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_GRez" tabindex=0>Klipper<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://docs.mainsail.xyz/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_GRez" tabindex=0>Mainsail<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://moonraker.readthedocs.io/en/latest/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_GRez" tabindex=0>Moonraker<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://klipperscreen.readthedocs.io/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_GRez" tabindex=0>KlipperScreen<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Im5f><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></ul></nav></div></div></aside><main class=docMainContainer_UI_Y><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_CeS1"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>This is documentation for <!-- -->RatOS<!-- --> <b>2.0.x</b>, which is no longer actively maintained.</div><div class=margin-top--md>For up-to-date documentation, see the <b><a href=/docs/configuration/macros>latest version</a></b> (<!-- -->2.1.x<!-- -->).</div></div><div class=docItemContainer_Zjux><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_r5Rz" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_JWO4><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Configuration</span><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Configuring RatOS Macros</span><meta itemprop=position content=2></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.0.x</span><div class="tocCollapsible_ih3I theme-doc-toc-mobile tocMobile__geE"><button type=button class="clean-btn tocCollapsibleButton_NB0r">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring RatOS Macros</h1></header>
<p>RatOS comes with a bunch of flexible predefined macro's that can be customized via variables and macro hooks.</p>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=variables>Variables<a href=#variables class=hash-link aria-label="Direct link to Variables" title="Direct link to Variables">​</a></h2>
<p>In your printer.cfg at the bottom of the Macro's section, you'll notice this:</p>
<div class="language-properties codeBlockContainer_r8aP theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockTitle_FUoc>printer.cfg</div><div class=codeBlockContent_mn9A><pre tabindex=0 class="prism-code language-properties codeBlock_UNa9 thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_gI_7><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)">##########################################</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### MACRO CONFIGURATION</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### Configure the behavior...</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">##########################################</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">[gcode_macro</span><span class="token plain"> </span><span class="token value attr-value">RatOS]</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain">....</span><br></span></code></pre><div class=buttonGroup_lwhC><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_D3_B aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_LaYT><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_eLJY><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This is a macro that serves as a place to store variables that all the RatOS macro's refer to when they're executed. Since they're gcode variables you can change them on the fly, for example from your slicer's custom gcode sections:</p>
<div class="language-gcode codeBlockContainer_r8aP theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_mn9A><pre tabindex=0 class="prism-code language-gcode codeBlock_UNa9 thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_gI_7><span class=token-line style=color:#F8F8F2><span class="token property">S</span><span class="token property">E</span><span class="token property">T</span><span class="token plain">_GCODE_VARIABLE </span><span class="token property">M</span><span class="token property">A</span><span class="token property">C</span><span class="token property">R</span><span class="token property">O</span><span class="token plain">=</span><span class="token property">R</span><span class="token plain">atOS </span><span class="token property">V</span><span class="token property">A</span><span class="token property">R</span><span class="token property">I</span><span class="token property">A</span><span class="token property">B</span><span class="token property">L</span><span class="token property">E</span><span class="token plain">=relative_extrusion </span><span class="token property">V</span><span class="token property">A</span><span class="token property">L</span><span class="token property">U</span><span class="token property">E</span><span class="token plain">=</span><span class="token property">T</span><span class="token plain">rue</span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token property">S</span><span class="token property">E</span><span class="token property">T</span><span class="token plain">_GCODE_VARIABLE </span><span class="token property">M</span><span class="token property">A</span><span class="token property">C</span><span class="token property">R</span><span class="token property">O</span><span class="token plain">=</span><span class="token property">R</span><span class="token plain">atOS </span><span class="token property">V</span><span class="token property">A</span><span class="token property">R</span><span class="token property">I</span><span class="token property">A</span><span class="token property">B</span><span class="token property">L</span><span class="token property">E</span><span class="token plain">=preheat_extruder_temp </span><span class="token property">V</span><span class="token property">A</span><span class="token property">L</span><span class="token property">U</span><span class="token property">E</span><span class="token plain">=200</span><br></span></code></pre><div class=buttonGroup_lwhC><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_D3_B aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_LaYT><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_eLJY><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Not all of the available variables are listed in printer.cfg by default. If you want to change a variable that isn't in printer.cfg simply just add it under the <code>[gcode_macro RatOS]</code> section.</p>
<p>Below you'll find a list of the available variables and what they do.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=relative-extrusion>Relative Extrusion<a href=#relative-extrusion class=hash-link aria-label="Direct link to Relative Extrusion" title="Direct link to Relative Extrusion">​</a></h3>
<table><thead><tr><th>Name<th>Possible Values<th>Default<tbody><tr><td>variable_relative_extrusion<td>True / False<td>False</table>
<p>Controls which extrusion mode START_PRINT ends in. Which value you use here depends on your slicer configuration, in other words this variable should always correspond to the extrusion mode setting in your slicer. It is recommended to configure your slicer for relative extrusion and set this variable to True.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=speed>Speed<a href=#speed class=hash-link aria-label="Direct link to Speed" title="Direct link to Speed">​</a></h3>
<table><thead><tr><th>Name<th>Possible Values<th>Default<tbody><tr><td>variable_macro_travel_speed<td>number<td>300<tr><td>variable_macro_z_speed<td>number<td>10</table>
<p>Travel speed to use for gcode moves in RatOS Macro's in mm/s.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=homing>Homing<a href=#homing class=hash-link aria-label="Direct link to Homing" title="Direct link to Homing">​</a></h3>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_safe_home_x<td>"middle" / number<td>"middle"<td>The x coordinate for where to return the toolhead to when homing Z<tr><td>variable_safe_home_y<td>"middle" / number<td>"middle<td>The y coordinate for where to return the toolhead to when homing Z<tr><td>variable_homing_z_hop<td>number<td>15<td>How much to raise the toolhead after homing Z. Probe configs may change this value.<tr><td>variable_driver_type_x<td>string<td>"tmc2209"<td>The driver type used on X. Used to restore current after sensorless homing<tr><td>variable_driver_type_y<td>string<td>"tmc2209"<td>The driver type used on X. Used to restore current after sensorless homing</table>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=heating>Heating<a href=#heating class=hash-link aria-label="Direct link to Heating" title="Direct link to Heating">​</a></h3>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_preheat_extruder<td>True / False<td>True<td>Enables or disables preheating of the nozzle to 150 degrees during the START_PRINT macro. There are several benefits to preheating the nozzle. 1) Gives the bed additional time to diffuse the heat. 2) Softens plastic that may be stuck in the nozzle so it doesn't block your probe from triggering. 3) If using a non thermally compensated inductive probe, it makes the temperature and thus the offset of the probe more predictable and consistent.<tr><td>variable_preheat_extruder_temp<td>Number<td>150<td>The temperature to preheat the extruder to, to soften the material at the nozzle tip</table>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=bed-mesh-calibration>Bed Mesh Calibration<a href=#bed-mesh-calibration class=hash-link aria-label="Direct link to Bed Mesh Calibration" title="Direct link to Bed Mesh Calibration">​</a></h3>
<table><thead><tr><th>Name<th>Possible Values<th>Default<tbody><tr><td>variable_calibrate_bed_mesh<td>True / False<td>True</table>
<p>Whether or not to calibrate a bed mesh before each print. If you prefer calibrating your bed mesh manually instead of on each print, you can disable it by setting this to <code>False</code>. Disabling <code>variable_calibrate_bed_mesh</code> will stop RatOS from loading a bed mesh entirely. If you want it to load a mesh, you can set <code>variable_bed_mesh_profile</code> to the name of the profile you want it to load.</p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<tbody><tr><td>variable_bed_mesh_profile<td>undefined / string<td>undefined</table>
<p>Use this variable to set name for the bed_mesh profile that RatOS calibrate and loads. If <code>variable_calibrate_bed_mesh</code> is <code>False</code> you must set this variable to the profile name you wish to load, or no bed mesh will be loaded. If variable_calibrate_bed_mesh is <code>True</code> and this variable isn't set, RatOS will use <code>ratos</code> as the profile name.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=nozzle-priming>Nozzle Priming<a href=#nozzle-priming class=hash-link aria-label="Direct link to Nozzle Priming" title="Direct link to Nozzle Priming">​</a></h3>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_nozzle_priming<td>"primeline" / "primeblob" / False<td>"primeblob"<td>Whether or not to prime the nozzle during the START_PRINT macro. "primeline" will make START_PRINT draw a short line to prime the nozzle. "primeblob" will put a small blob at the edge of the bed that is intended to wrap around the nozzle, then lifts the toolhead out of it while extruding a small line, effective for cleaning the nozzle and it's easy to clean up.<tr><td>variable_nozzle_prime_start_x<td>"min" / "max" / number<td>"max"<td>Where to place the primeline or blob in X. "min" starts the blob or line at x=0 + some safety margin. "max" starts the blob or line at x=max - some safety margin. If set to a number, that number will be used as the starting x coordinate of the line or blob.<tr><td>variable_nozzle_prime_start_y<td>"min" / "max" / number<td>"min"<td>Where to place the primeline or blob in Y. "min" starts the blob or line at y=0 + some safety margin. "max" starts the blob or line at y=max - some safety margin. If set to a number, that number will be used as the starting y coordinate of the line or blob.<tr><td>variable_nozzle_prime_direction<td>"auto" / "forwards" / "backwards<td>"auto"<td>The direction to draw the line or blob in, if "backwards" the toolhead will move toward the front of the printer, if "forwards" it will move towards the back. When set to "auto" it will move towards the middle regardless of <code>variable_nozzle_prime_start_y</code>.</table>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=filament-loadingunloading>Filament loading/unloading<a href=#filament-loadingunloading class=hash-link aria-label="Direct link to Filament loading/unloading" title="Direct link to Filament loading/unloading">​</a></h3>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_filament_unload_length<td>number<td>130<td>How much to retract in mm when unloading filament after the tip has been formed<tr><td>variable_filament_unload_speed<td>number<td>5<td>How fast to retract the <code>filament_unload_length</code> filament in mm/s<tr><td>variable_filament_load_length<td>number<td>100<td>How much to extrude in mm when loading filament to get the filament to the nozzle<tr><td>variable_filament_load_speed<td>number<td>10<td>How fast to extrude the <code>filament_load_length</code> in mm/s</table>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=parking>Parking<a href=#parking class=hash-link aria-label="Direct link to Parking" title="Direct link to Parking">​</a></h3>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_start_print_park_in<td>"back" / "center" / "front"<td>"back"<td>Where to park the toolhead during final nozzle heating.<tr><td>variable_start_print_park_x<td>number / undefined<td>undefined<td>Custom X coordinate to park the toolhead during final nozzle heating.<tr><td>variable_start_print_park_z_height<td>number<td>50<td>The z height at which to park the toolhead during final nozzle heating.<tr><td>variable_end_print_park_in<td>"back" / "center" / "front"<td>"back"<td>Where to park the toolhead after ending or canceling a print.<tr><td>variable_end_print_park_x<td>number / undefined<td>undefined<td>Custom X coordinate to park the toolhead after ending or canceling a print.<tr><td>variable_end_print_park_z_hop<td>number<td>number<td>How many mm to lift the nozzle when after ending or cancelling a print.<tr><td>variable_pause_print_park_in<td>"back" / "center" / "front"<td>"back"<td>Where to park the toolhead when pausing a print.<tr><td>variable_pause_print_park_x<td>number / undefined<td>undefined<td>Custom X coordinate to park the toolhead when pausing a print.</table>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=stowable-probes>Stowable probes<a href=#stowable-probes class=hash-link aria-label="Direct link to Stowable probes" title="Direct link to Stowable probes">​</a></h3>
<p>These variables are only relevant when using a stowable probe such as Euclid or Klicky. Use these to customize and finetune the deployment and stowing procedures.</p>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_stowable_probe_position_preflight<td>Tuple<td>undefined<td>The coordinates to move the toolhead to before the probe deployment routine. Example: <code>[30, 60]</code><tr><td>variable_stowable_probe_position_side<td>Tuple<td>undefined<td>The coordinates to move the toolhead to before entering the dock during deployment, or exiting the dock while stowing. Example: <code>[30, 0]</code><tr><td>variable_stowable_probe_position_dock<td>Tuple<td>undefined<td>The coordinates of the toolhead when it's positioned perfectly inside the dock for pickup. Example: <code>[0, 0]</code><tr><td>variable_stowable_probe_position_exit<td>Tuple<td>undefined<td>The coordinates to move the toolhead to when exiting the dock while deploying or entering the dock while stowing. Example: <code>[0, 60]</code></table>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=skew-profile>Skew profile<a href=#skew-profile class=hash-link aria-label="Direct link to Skew profile" title="Direct link to Skew profile">​</a></h3>
<table><thead><tr><th>Name<th>Possible Values<th>Default<th>Description<tbody><tr><td>variable_skew_profile<td>string or undefined<td>undefined<td>Use this if you have calibrated and saved a skew profile that you want to load in the START_PRINT macro. To activate it, set the variable to the name of your saved skew profile.</table>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=user-macro-hooks>User macro hooks<a href=#user-macro-hooks class=hash-link aria-label="Direct link to User macro hooks" title="Direct link to User macro hooks">​</a></h2>
<p>These hooks do nothing by default, that means you can safely implement them in your USER OVERRIDES section without copy pasting anything from the RatOS config files, like so:</p>
<div class="language-properties codeBlockContainer_r8aP theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_mn9A><pre tabindex=0 class="prism-code language-properties codeBlock_UNa9 thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_gI_7><span class=token-line style=color:#F8F8F2><span class="token key attr-name" style="color:rgb(241, 250, 140)">[gcode_macro</span><span class="token plain"> </span><span class="token value attr-value">_USER_START_PRINT_BED_MESH]</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token key attr-name" style="color:rgb(241, 250, 140)">gcode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#F8F8F2><span class="token plain">	SETUP_KAMP_MESHING</span><br></span></code></pre><div class=buttonGroup_lwhC><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_D3_B aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_LaYT><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_eLJY><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_user_start_print_before_homing>_USER_START_PRINT_BEFORE_HOMING<a href=#_user_start_print_before_homing class=hash-link aria-label="Direct link to _USER_START_PRINT_BEFORE_HOMING" title="Direct link to _USER_START_PRINT_BEFORE_HOMING">​</a></h3>
<p>Runs before the printer homes at the start of START_PRINT.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_user_start_print_heat_chamber>_USER_START_PRINT_HEAT_CHAMBER<a href=#_user_start_print_heat_chamber class=hash-link aria-label="Direct link to _USER_START_PRINT_HEAT_CHAMBER" title="Direct link to _USER_START_PRINT_HEAT_CHAMBER">​</a></h3>
<p>Runs right after the chamber has started heating, if CHAMBER_TEMP is supplied to START_PRINT.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_user_start_print_after_heating_bed>_USER_START_PRINT_AFTER_HEATING_BED<a href=#_user_start_print_after_heating_bed class=hash-link aria-label="Direct link to _USER_START_PRINT_AFTER_HEATING_BED" title="Direct link to _USER_START_PRINT_AFTER_HEATING_BED">​</a></h3>
<p>Runs right after the bed has reached temp, before the internal _START_PRINT_AFTER_HEATING_BED</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_user_start_print_bed_mesh>_USER_START_PRINT_BED_MESH<a href=#_user_start_print_bed_mesh class=hash-link aria-label="Direct link to _USER_START_PRINT_BED_MESH" title="Direct link to _USER_START_PRINT_BED_MESH">​</a></h3>
<p>Runs before _START_PRINT_BED_MESH</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_user_start_print_park>_USER_START_PRINT_PARK<a href=#_user_start_print_park class=hash-link aria-label="Direct link to _USER_START_PRINT_PARK" title="Direct link to _USER_START_PRINT_PARK">​</a></h3>
<p>Runs before _START_PRINT_PARK</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_user_start_print_after_heating_extruder>_USER_START_PRINT_AFTER_HEATING_EXTRUDER<a href=#_user_start_print_after_heating_extruder class=hash-link aria-label="Direct link to _USER_START_PRINT_AFTER_HEATING_EXTRUDER" title="Direct link to _USER_START_PRINT_AFTER_HEATING_EXTRUDER">​</a></h3>
<p>Runs just before _START_PRINT_AFTER_HEATING_EXTRUDER</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_user_end_print_before_heaters_off>_USER_END_PRINT_BEFORE_HEATERS_OFF<a href=#_user_end_print_before_heaters_off class=hash-link aria-label="Direct link to _USER_END_PRINT_BEFORE_HEATERS_OFF" title="Direct link to _USER_END_PRINT_BEFORE_HEATERS_OFF">​</a></h3>
<p>Runs before the heaters are turned off in END_PRINT</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_user_end_print_after_heaters_off>_USER_END_PRINT_AFTER_HEATERS_OFF<a href=#_user_end_print_after_heaters_off class=hash-link aria-label="Direct link to _USER_END_PRINT_AFTER_HEATERS_OFF" title="Direct link to _USER_END_PRINT_AFTER_HEATERS_OFF">​</a></h3>
<p>Runs after the heaters are turned off in END_PRINT</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_user_end_print_park>_USER_END_PRINT_PARK<a href=#_user_end_print_park class=hash-link aria-label="Direct link to _USER_END_PRINT_PARK" title="Direct link to _USER_END_PRINT_PARK">​</a></h3>
<p>Runs before the toolhead is parked in END_PRINT</p>
<h2 class="anchor anchorWithStickyNavbar_D_I3" id=internal-macro-hooks>Internal macro hooks<a href=#internal-macro-hooks class=hash-link aria-label="Direct link to Internal macro hooks" title="Direct link to Internal macro hooks">​</a></h2>
<p>These hooks are used internally, so if you override these be sure to copy paste the original implementation and modify that or you may break some functionality. Remember to check if there's an override in the printer's macro.cfg file, in which case that's the one you would copy.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_start_print_heat_chamber>_START_PRINT_HEAT_CHAMBER<a href=#_start_print_heat_chamber class=hash-link aria-label="Direct link to _START_PRINT_HEAT_CHAMBER" title="Direct link to _START_PRINT_HEAT_CHAMBER">​</a></h3>
<p>Heats the chamber, if CHAMBER_TEMP is supplied to START_PRINT.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_start_print_after_heating_bed>_START_PRINT_AFTER_HEATING_BED<a href=#_start_print_after_heating_bed class=hash-link aria-label="Direct link to _START_PRINT_AFTER_HEATING_BED" title="Direct link to _START_PRINT_AFTER_HEATING_BED">​</a></h3>
<p>Runs right after the bed has reached temp, after _USER_START_PRINT_AFTER_HEATING_BED. It is usually used for additional bed calibration, such as Z_TILT_ADJUST or QUAD_GANTRY_LEVELING depending on the printer.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_start_print_bed_mesh>_START_PRINT_BED_MESH<a href=#_start_print_bed_mesh class=hash-link aria-label="Direct link to _START_PRINT_BED_MESH" title="Direct link to _START_PRINT_BED_MESH">​</a></h3>
<p>Handles bed meshing logic.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_start_print_park>_START_PRINT_PARK<a href=#_start_print_park class=hash-link aria-label="Direct link to _START_PRINT_PARK" title="Direct link to _START_PRINT_PARK">​</a></h3>
<p>Parks the extruder while heating the nozzle to print temperature.</p>
<h3 class="anchor anchorWithStickyNavbar_D_I3" id=_start_print_after_heating_extruder>_START_PRINT_AFTER_HEATING_EXTRUDER<a href=#_start_print_after_heating_extruder class=hash-link aria-label="Direct link to _START_PRINT_AFTER_HEATING_EXTRUDER" title="Direct link to _START_PRINT_AFTER_HEATING_EXTRUDER">​</a></h3>
<p>Primes the nozzle and loads the skew profile if any is defined in the RatOS variables.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/Rat-OS/RatOS/edit/v2.x/site/versioned_docs/version-2.0.x/configuration/macros.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Lzxc aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_Vlfz"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/2.0.x/slicers><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Slicer Configuration</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/2.0.x/configuration/adaptive-meshing><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Adaptive Meshing (BETA)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_npFu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#variables class="table-of-contents__link toc-highlight">Variables</a><ul><li><a href=#relative-extrusion class="table-of-contents__link toc-highlight">Relative Extrusion</a><li><a href=#speed class="table-of-contents__link toc-highlight">Speed</a><li><a href=#homing class="table-of-contents__link toc-highlight">Homing</a><li><a href=#heating class="table-of-contents__link toc-highlight">Heating</a><li><a href=#bed-mesh-calibration class="table-of-contents__link toc-highlight">Bed Mesh Calibration</a><li><a href=#nozzle-priming class="table-of-contents__link toc-highlight">Nozzle Priming</a><li><a href=#filament-loadingunloading class="table-of-contents__link toc-highlight">Filament loading/unloading</a><li><a href=#parking class="table-of-contents__link toc-highlight">Parking</a><li><a href=#stowable-probes class="table-of-contents__link toc-highlight">Stowable probes</a><li><a href=#skew-profile class="table-of-contents__link toc-highlight">Skew profile</a></ul><li><a href=#user-macro-hooks class="table-of-contents__link toc-highlight">User macro hooks</a><ul><li><a href=#_user_start_print_before_homing class="table-of-contents__link toc-highlight">_USER_START_PRINT_BEFORE_HOMING</a><li><a href=#_user_start_print_heat_chamber class="table-of-contents__link toc-highlight">_USER_START_PRINT_HEAT_CHAMBER</a><li><a href=#_user_start_print_after_heating_bed class="table-of-contents__link toc-highlight">_USER_START_PRINT_AFTER_HEATING_BED</a><li><a href=#_user_start_print_bed_mesh class="table-of-contents__link toc-highlight">_USER_START_PRINT_BED_MESH</a><li><a href=#_user_start_print_park class="table-of-contents__link toc-highlight">_USER_START_PRINT_PARK</a><li><a href=#_user_start_print_after_heating_extruder class="table-of-contents__link toc-highlight">_USER_START_PRINT_AFTER_HEATING_EXTRUDER</a><li><a href=#_user_end_print_before_heaters_off class="table-of-contents__link toc-highlight">_USER_END_PRINT_BEFORE_HEATERS_OFF</a><li><a href=#_user_end_print_after_heaters_off class="table-of-contents__link toc-highlight">_USER_END_PRINT_AFTER_HEATERS_OFF</a><li><a href=#_user_end_print_park class="table-of-contents__link toc-highlight">_USER_END_PRINT_PARK</a></ul><li><a href=#internal-macro-hooks class="table-of-contents__link toc-highlight">Internal macro hooks</a><ul><li><a href=#_start_print_heat_chamber class="table-of-contents__link toc-highlight">_START_PRINT_HEAT_CHAMBER</a><li><a href=#_start_print_after_heating_bed class="table-of-contents__link toc-highlight">_START_PRINT_AFTER_HEATING_BED</a><li><a href=#_start_print_bed_mesh class="table-of-contents__link toc-highlight">_START_PRINT_BED_MESH</a><li><a href=#_start_print_park class="table-of-contents__link toc-highlight">_START_PRINT_PARK</a><li><a href=#_start_print_after_heating_extruder class="table-of-contents__link toc-highlight">_START_PRINT_AFTER_HEATING_EXTRUDER</a></ul></ul></div></div></div></div></main></div></div></div></div>